
var SGPB_POPUP_PARAMS = {"popupTypeAgeRestriction":"ageRestriction","defaultThemeImages":{"1":"https:\/\/anextrarep.com\/wp-content\/plugins\/popup-builder\/public\/img\/theme_1\/close.png","2":"https:\/\/anextrarep.com\/wp-content\/plugins\/popup-builder\/public\/img\/theme_2\/close.png","3":"https:\/\/anextrarep.com\/wp-content\/plugins\/popup-builder\/public\/img\/theme_3\/close.png","5":"https:\/\/anextrarep.com\/wp-content\/plugins\/popup-builder\/public\/img\/theme_5\/close.png","6":"https:\/\/anextrarep.com\/wp-content\/plugins\/popup-builder\/public\/img\/theme_6\/close.png"},"homePageUrl":"https:\/\/anextrarep.com\/","isPreview":false,"convertedIdsReverse":[],"dontShowPopupExpireTime":365,"conditionalJsClasses":[],"disableAnalyticsGeneral":false};
var SGPB_JS_PACKAGES = {"packages":{"current":1,"free":1,"silver":2,"gold":3,"platinum":4},"extensions":{"geo-targeting":false,"advanced-closing":false}};
var SGPB_JS_PARAMS = {"ajaxUrl":"https:\/\/anextrarep.com\/wp-admin\/admin-ajax.php","nonce":"4f8a694dff"};function sgAddEvent(element,eventName,fn){if(element.addEventListener)
element.addEventListener(eventName,fn,!1);else if(element.attachEvent)
element.attachEvent('on'+eventName,fn)}window.SGPB_ORDER=0;function SGPBPopup(){this.id=null;this.eventName='';this.popupData=null;this.additionalPopupData={};this.popupConfig={};this.popupObj=null;this.onceListener();this.initialsListeners();this.countPopupOpen=!0;this.closeButtonDefaultPositions={};this.closeButtonDefaultPositions[1]={'left':9,'right':9,'bottom':9};this.closeButtonDefaultPositions[2]={'left':0,'right':0,'top':parseInt('-20'),'bottom':parseInt('-20')};this.closeButtonDefaultPositions[3]={'right':4,'bottom':4,'left':4,'top':4};this.closeButtonDefaultPositions[4]={'left':12,'right':12,'bottom':9};this.closeButtonDefaultPositions[5]={'left':8,'right':8,'bottom':8};this.closeButtonDefaultPositions[6]={'left':parseInt('-18.5'),'right':parseInt('-18.5'),'bottom':parseInt('-18.5'),'top':parseInt('-18.5')}}
SGPBPopup.htmlCustomButton=function(){var buttons=jQuery('.sgpb-html-custom-button');var buttonActionBehaviors=function(button,settings){button.bind('click',function(){var behavior=settings['sgpb-custom-button'];if(behavior==='redirectToURL'){if(settings['sgpb-custom-button-redirect-new-tab']){window.open(settings['sgpb-custom-button-redirect-URL'])}else{window.location.href=settings['sgpb-custom-button-redirect-URL']}}
if(behavior==='hidePopup'){SGPBPopup.closePopup()}
if(behavior==='copyToClipBoard'){var tempInputId=1;var value=settings['sgpb-custom-button-copy-to-clipboard-text'];var tempInput=document.createElement("input");tempInput.id=tempInputId;tempInput.value=value;tempInput.style='position: absolute; right: -10000px';if(!document.getElementById(tempInputId)){document.body.appendChild(tempInput)}
tempInput.select();document.execCommand("copy");if(settings['sgpb-copy-to-clipboard-close-popup']){SGPBPopup.closePopup()}
if(settings['sgpb-custom-button-copy-to-clipboard-alert']){alert(settings['sgpb-custom-button-copy-to-clipboard-message'])}}})};buttons.each(function(){var settings=jQuery.parseJSON(decodeURIComponent(jQuery(this).attr('data-options')));buttonActionBehaviors(jQuery(this),settings)})};SGPBPopup.listeners=function(){var that=this;sgAddEvent(window,'sgpbPopupBuilderAdditionalDimensionSettings',function(e){SGPBPopup.mobileSafariAdditionalSettings(e)});sgAddEvent(window,'sgpbDidOpen',function(e){if(typeof(Event)==='function'){var event=new CustomEvent('resize',{bubbles:!0,cancelable:!0})}else{if(SGPBPopup.isIE()){var event=document.createEvent('Event');event.initEvent('resize',!0,!0)}else{var event=new CustomEvent('resize',{bubbles:!0,cancelable:!0})}}
window.dispatchEvent(event);SGPBPopup.mobileSafariAdditionalSettings(e);var args=e.detail;var popupOptions=args.popupData;var obj=e.detail.currentObj.sgpbPopupObj;if(typeof SGPB_ANALYTICS_PARAMS==='undefined'){if(obj.getCountPopupOpen()){obj.addToCounter(popupOptions)}}
if(popupOptions['sgpb-show-popup-same-user']){obj.setPopupLimitationCookie(popupOptions)}
SGPBPopup.htmlCustomButton()});setInterval(function(){var openedPopups=window.sgpbOpenedPopup||{};if(!Object.keys(openedPopups).length){return!1}
var params={};params.popupsIdCollection=window.sgpbOpenedPopup;var data={action:'sgpb_send_to_open_counter',nonce:SGPB_JS_PARAMS.nonce,params:params};window.sgpbOpenedPopup={};jQuery.post(SGPB_JS_PARAMS.ajaxUrl,data,function(res){})},600)};SGPBPopup.mobileSafariAdditionalSettings=function(e){if(typeof e==='undefined'){var args=SGPBPopup.prototype.getAdditionalPopupData();if(typeof args==='undefined'){return!1}
var popupOptions=args.popupData;var popupId=parseInt(args.popupId)}else{var args=e.detail;var alreadySavedArgs=SGPBPopup.prototype.getAdditionalPopupData();if(jQuery.isEmptyObject(alreadySavedArgs)){SGPBPopup.prototype.setAdditionalPopupData(args)}
var popupOptions=args.popupData;var popupId=parseInt(args.popupId)}
var userAgent=window.navigator.userAgent;if(userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)){if(typeof popupOptions['sgpb-popup-dimension-mode']!=='undefined'&&popupOptions['sgpb-popup-dimension-mode']==='responsiveMode'){var openedPopupWidth=parseInt(window.innerHeight-100);if(e.detail.popupData['sgpb-type']==='iframe'||e.detail.popupData['sgpb-type']==='video'){if(jQuery('.sgpb-popup-builder-content-'+popupId+' iframe').length){jQuery('.sgpb-popup-builder-content-'+popupId).attr('style','height:'+openedPopupWidth+'px !important;')}}}}};SGPBPopup.prototype.setAdditionalPopupData=function(additionalPopupData){this.additionalPopupData=additionalPopupData};SGPBPopup.prototype.getAdditionalPopupData=function(){return this.additionalPopupData};SGPBPopup.prototype.setCountPopupOpen=function(countPopupOpen){this.countPopupOpen=countPopupOpen};SGPBPopup.prototype.getCountPopupOpen=function(){return this.countPopupOpen};SGPBPopup.playMusic=function(e){var args=e.detail;var popupId=parseInt(args.popupId);var options=SGPBPopup.getPopupOptionsById(popupId);var soundUrl=options['sgpb-sound-url'];var soundStatus=options['sgpb-open-sound'];if(soundStatus&&soundUrl&&!window.SGPB_SOUND[popupId]){var audio=new Audio(soundUrl);audio.play();window.SGPB_SOUND[popupId]=audio}};SGPBPopup.floatingButton=function(e){SGPBPopup.showFloatingButton(e);jQuery(window).on('sgpbFormSuccess',function(e){SGPBPopup.hideFloatingButton()})};SGPBPopup.showFloatingButton=function(e){var popupObj=e||{};var popupId=0;var shouldShowFloatingButton=!0;if(e.hasOwnProperty('sgpbPopupObj')){popupObj=e.detail.currentObj.sgpbPopupObj}
if(popupObj instanceof SGPBPopup){popupId=parseInt(popupObj.id);shouldShowFloatingButton=popupObj.forceCheckCurrentPopupType(popupObj)}
if(shouldShowFloatingButton){if(popupId){jQuery('.sgpb-floating-button.sg-popup-id-'+popupId).show()}else{jQuery('.sgpb-floating-button').show()}}};SGPBPopup.hideFloatingButton=function(popupId){if(popupId){jQuery('.sgpb-floating-button.sg-popup-id-'+popupId).fadeOut()}else{jQuery('.sgpb-floating-button').fadeOut()}};SGPBPopup.prototype.initialsListeners=function(){var that=this;sgAddEvent(window,'sgpbDidOpen',function(e){jQuery('.sg-popup-close').unbind('click').bind('click',function(){var currentPopupId=jQuery(this).parents('.sg-popup-builder-content').attr('data-id');SGPBPopup.closePopupById(currentPopupId)})});sgAddEvent(window,'sgpbDidClose',function(e){var args=e.detail;var popupId=parseInt(args.popupId);that.htmlIframeFilterForOpen(popupId,'close')})};SGPBPopup.prototype.onceListener=function(){var that=this;sgAddEvent(window,'sgpbDidOpen',function(e){document.onkeydown=function(e){e=e||window.event;if(e.keyCode===27){var currentPopup=that.getPopupIdForNextEsc();if(!currentPopup){return!1}
var lastPopupId=parseInt(currentPopup.popupId);SGPBPopup.closePopupById(lastPopupId)}}});sgAddEvent(window,'sgpbDidClose',function(e){if(window.sgPopupBuilder.length!==0){var popups=[].concat(window.sgPopupBuilder).reverse();for(var i in popups){var nextIndex=++i;var nextObj=popups[nextIndex];if(typeof nextObj==='undefined'){jQuery('html').removeClass('sgpb-overflow-hidden');jQuery('body').removeClass('sgpb-overflow-hidden-body');break}
if(nextObj.isOpen===!1){continue}
var options=SGPBPopup.getPopupOptionsById(nextObj.popupId);if(typeof options['sgpb-disable-page-scrolling']==='undefined'){jQuery('html').removeClass('sgpb-overflow-hidden');jQuery('body').removeClass('sgpb-overflow-hidden-body')}else{jQuery('html').addClass('sgpb-overflow-hidden');jQuery('body').addClass('sgpb-overflow-hidden-body')}
break}}else{jQuery('html').addClass('sgpb-overflow-hidden');jQuery('body').addClass('sgpb-overflow-hidden-body')}})};SGPBPopup.prototype.getPopupIdForNextEsc=function(){var popups=window.sgPopupBuilder;var popup=!1;if(!popups.length){return popup}
var searchPopups=[].concat(popups).reverse();for(var i in searchPopups){var popupData=searchPopups[i];if(popupData.isOpen){var popupId=parseInt(popupData.popupId);var popupOptions=SGPBPopup.getPopupOptionsById(popupId);if(!popupOptions['sgpb-disable-popup-closing']&&popupOptions['sgpb-esc-key']){popup=popupData;break}}}
return popup};SGPBPopup.prototype.setPopupId=function(popupId){this.id=parseInt(popupId)};SGPBPopup.prototype.getPopupId=function(){return this.id};SGPBPopup.prototype.setPopupObj=function(popupObj){this.popupObj=popupObj};SGPBPopup.prototype.getPopupObj=function(){return this.popupObj};SGPBPopup.prototype.setPopupData=function(popupData){if(typeof popupData=='string'){var popupData=SGPBPopup.JSONParse(popupData)}
this.popupData=popupData};SGPBPopup.prototype.getPopupData=function(){return this.popupData};SGPBPopup.prototype.setPopupConfig=function(config){this.popupConfig=config};SGPBPopup.prototype.getPopupConfig=function(){return this.popupConfig};SGPBPopup.prototype.setUpPopupConfig=function(){var popupConfig=new PopupConfig();this.setPopupConfig(popupConfig)};SGPBPopup.createPopupObjById=function(popupId){var options=SGPBPopup.getPopupOptionsById(popupId);if(!options){return!1}
var popupObj=new SGPBPopup();popupObj.setPopupId(popupId);popupObj.setPopupData(options);return popupObj};SGPBPopup.getPopupOptionsById=function(popupId){var popupDataDiv=jQuery('#sg-popup-content-wrapper-'+popupId);if(!popupDataDiv.length){return!1}
var options=popupDataDiv.attr('data-options');return SGPBPopup.JSONParse(options)};SGPBPopup.prototype.getCompatibleZiIndex=function(popupZIndex){if(popupZIndex>2147483647){return 2147483627}
return popupZIndex};SGPBPopup.prototype.prepareOpen=function(){var popupId=this.getPopupId();var popupData=this.getPopupData();var popupZIndex=this.getCompatibleZiIndex(popupData['sgpb-popup-z-index']);var popupType=this.popupData['sgpb-type'];this.setUpPopupConfig();var that=this;var popupConfig=this.getPopupConfig();function decodeEntities(encodedString){if(typeof encodedString=='undefined'){return''}
var suspiciousStrings=['document.createElement','createElement','String.fromCharCode','fromCharCode'];for(var i in suspiciousStrings){if(encodedString.indexOf(suspiciousStrings[i])>0){return''}}
var textArea=document.createElement('textarea');textArea.innerHTML=encodedString;return textArea.value}
popupConfig.customShouldOpen=function(){var instructions=popupData['sgpb-ShouldOpen'];instructions=decodeEntities(instructions);var F=new Function(instructions);return(F())};popupConfig.customShouldClose=function(){var instructions=popupData['sgpb-ShouldClose'];instructions=decodeEntities(instructions);var F=new Function(instructions);return(F())};this.setPopupDimensions();if(popupData['sgpb-disable-popup-closing']=='on'){popupData['sgpb-enable-close-button']='';popupData['sgpb-esc-key']='';popupData['sgpb-overlay-click']=''}
popupData.eventName=this.eventName;if(SGPBPopup.varToBool(popupData['sgpb-enable-close-button'])){popupConfig.magicCall('setCloseButtonDelay',parseInt(popupData['sgpb-close-button-delay']))}
popupConfig.magicCall('setShowButton',SGPBPopup.varToBool(popupData['sgpb-enable-close-button']));var openAnimationSpeed=parseFloat(popupData['sgpb-open-animation-speed'])*1000;var closeAnimationSpeed=parseFloat(popupData['sgpb-close-animation-speed'])*1000;popupConfig.magicCall('setOpenAnimationEffect',popupData['sgpb-open-animation-effect']);popupConfig.magicCall('setCloseAnimationEffect',popupData['sgpb-close-animation-effect']);popupConfig.magicCall('setOpenAnimationSpeed',openAnimationSpeed);popupConfig.magicCall('setCloseAnimationSpeed',closeAnimationSpeed);popupConfig.magicCall('setOpenAnimationStatus',popupData['sgpb-open-animation']);popupConfig.magicCall('setCloseAnimationStatus',popupData['sgpb-close-animation']);popupConfig.magicCall('setContentPadding',popupData['sgpb-content-padding']);if(typeof SgpbRecentSalesPopupType!='undefined'){if(popupType==SgpbRecentSalesPopupType){popupZIndex=2147483647;popupConfig.magicCall('setCloseAnimationEffect','fade');popupConfig.magicCall('setCloseAnimationSpeed',1000);popupConfig.magicCall('setCloseAnimationStatus','on')}}
popupConfig.magicCall('setZIndex',popupZIndex);popupConfig.magicCall('setCloseButtonWidth',popupData['sgpb-button-image-width']);popupConfig.magicCall('setCloseButtonHeight',popupData['sgpb-button-image-height']);popupConfig.magicCall('setPopupId',popupId);popupConfig.magicCall('setPopupData',popupData);popupConfig.magicCall('setAllowed',!SGPBPopup.varToBool(popupData['sgpb-disable-popup-closing']));if(popupData['sgpb-type']==SGPB_POPUP_PARAMS.popupTypeAgeRestriction){popupConfig.magicCall('setAllowed',!1)}
popupConfig.magicCall('setEscShouldClose',SGPBPopup.varToBool(popupData['sgpb-esc-key']));popupConfig.magicCall('setOverlayShouldClose',SGPBPopup.varToBool(popupData['sgpb-overlay-click']));popupConfig.magicCall('setScrollingEnabled',SGPBPopup.varToBool(popupData['sgpb-enable-content-scrolling']));if(SGPBPopup.varToBool(popupData['sgpb-content-click'])){this.contentCloseBehavior()}
sgAddEvent(window,'sgpbWillOpen',function(e){if(popupId!=e.detail.popupId||e.detail.popupData['sgpb-content-click']=='undefined'){return!1}
that.popupContentClick(e)});if(SGPBPopup.varToBool(popupData['sgpb-popup-fixed'])){this.addFixedPosition()}
this.themeCreator();this.themeCustomizations();popupConfig.magicCall('setContents',document.getElementById('sg-popup-content-wrapper-'+popupId));popupConfig.magicCall('setPopupType',popupType);this.setPopupConfig(popupConfig);this.popupTriggeringListeners();var allowToOpen=this.checkCurrentPopupType();if(allowToOpen){this.open()}};SGPBPopup.prototype.popupContentClick=function(e){var args=e.detail;var popupId=parseInt(args.popupId);jQuery('.sgpb-content-'+popupId).on('click',function(event){var settings={popupId:popupId,eventName:'sgpbPopupContentclick'};jQuery(window).trigger('sgpbPopupContentclick',settings)})};SGPBPopup.prototype.forceCheckCurrentPopupType=function(popupObj){var allowToOpen=!0;var popupConfig=new PopupConfig();var className=popupObj.popupData['sgpb-type'];if(typeof className=='undefined'||className=='undefined'){return!1}
if(typeof SGPB_POPUP_PARAMS.conditionalJsClasses!='undefined'&&SGPB_POPUP_PARAMS.conditionalJsClasses.length){var isAllowConditions=this.forceIsAllowJsConditions(popupObj);if(!isAllowConditions){return!1}}
var popupConfig=new PopupConfig();var className=this.popupData['sgpb-type'];className=popupConfig.prefix.toUpperCase()+PopupConfig.firstToUpperCase(className);if(window.hasOwnProperty(className)){className=eval(className);var obj=new className;if(typeof obj.allowToOpen==='function'){allowToOpen=obj.allowToOpen(this.id);if(!allowToOpen){isAllow=allowToOpen}}}
var allowToOpen=this.checkCurrentPopupType();if(!allowToOpen){return!1}
return allowToOpen};SGPBPopup.prototype.checkCurrentPopupType=function(){var allowToOpen=!0;var popupConfig=new PopupConfig();var isPreview=parseInt(this.popupData['sgpb-is-preview']);if(!isNaN(isPreview)&&isPreview==1){return allowToOpen}
var popupHasLimit=this.isSatistfyForShowingLimitation(this.popupData);if(!popupHasLimit){return!1}
var dontShowPopupCookieName='sgDontShowPopup'+this.popupData['sgpb-post-id'];var dontShowPopup=SGPopup.getCookie(dontShowPopupCookieName);if(dontShowPopup!=''){return!1}
var className=this.popupData['sgpb-type'];if(typeof className=='undefined'||className=='undefined'){return!1}
if(typeof SGPB_POPUP_PARAMS.conditionalJsClasses!='undefined'&&SGPB_POPUP_PARAMS.conditionalJsClasses.length){var isAllowConditions=this.isAllowJsConditions();if(!isAllowConditions){return!1}}
className=popupConfig.prefix.toUpperCase()+PopupConfig.firstToUpperCase(className);if(window.hasOwnProperty(className)){className=eval(className);var obj=new className;if(typeof obj.allowToOpen==='function'){allowToOpen=obj.allowToOpen(this.id)}}
return allowToOpen};SGPBPopup.prototype.forceIsAllowJsConditions=function(popupObj){var conditions=SGPB_POPUP_PARAMS.conditionalJsClasses;var isAllow=!0;for(var i in conditions){if(!conditions.hasOwnProperty(i)){break}
try{var className=eval(conditions[i])}catch(e){continue}
var obj=new className;if(typeof obj.forceAllowToOpen==='function'){var popupData=this.getPopupData();var allowToOpen=obj.forceAllowToOpen(popupObj.id,popupObj);if(!allowToOpen){isAllow=allowToOpen;break}}}
return isAllow};SGPBPopup.prototype.isAllowJsConditions=function(){var conditions=SGPB_POPUP_PARAMS.conditionalJsClasses;var isAllow=!0;for(var i in conditions){if(!conditions.hasOwnProperty(i)){break}
try{var className=eval(conditions[i])}catch(e){continue}
var obj=new className;if(typeof obj.allowToOpen==='function'){var allowToOpen=obj.allowToOpen(this.id,this);if(!allowToOpen){isAllow=allowToOpen;break}}}
return isAllow};SGPBPopup.prototype.setPopupLimitationCookie=function(popupData){var cookieData=this.getPopupShowLimitationCookie(popupData);var cookie=cookieData.cookie||{};var openingCount=cookie.openingCount||0;var currentUrl=window.location.href;if(!popupData['sgpb-show-popup-same-user-page-level']){currentUrl=''}
cookie.openingCount=openingCount+1;cookie.openingPage=currentUrl;var popupShowingLimitExpiry=parseInt(popupData['sgpb-show-popup-same-user-expiry']);SGPBPopup.setCookie(cookieData.cookieName,JSON.stringify(cookie),popupShowingLimitExpiry,currentUrl)};SGPBPopup.prototype.isSatistfyForShowingLimitation=function(popupData){var popupLimitation=popupData['sgpb-show-popup-same-user'];if(!popupLimitation){return!0}
var cookieData=this.getPopupShowLimitationCookie(popupData);if(!cookieData.cookie){return!0}
return popupData['sgpb-show-popup-same-user-count']>cookieData.cookie.openingCount};SGPBPopup.prototype.getPopupShowLimitationCookie=function(popupData){var savedCookie=this.getPopupShowLimitationCookieDetails(popupData);var savedCookie=this.filterPopupLimitationCookie(savedCookie);return savedCookie};SGPBPopup.prototype.filterPopupLimitationCookie=function(cookie){var result={};result.cookie='';if(cookie.isPageLevel){result.cookieName=cookie.pageLevelCookieName;if(cookie.pageLevelCookie){result.cookie=jQuery.parseJSON(cookie.pageLevelCookie)}
SGPBPopup.deleteCookie(cookie.domainLevelCookieName);return result}
result.cookieName=cookie.domainLevelCookieName;if(cookie.domainLevelCookie){result.cookie=jQuery.parseJSON(cookie.domainLevelCookie)}
var currentUrl=window.location.href;SGPBPopup.deleteCookie(cookie.pageLevelCookieName,currentUrl);return result};SGPBPopup.prototype.getPopupShowLimitationCookieDetails=function(popupData){var result=!1;var currentUrl=window.location.href;var currentPopupId=popupData['sgpb-post-id'];var popupLimitationCookieHomePageLevelName='SGPBShowingLimitationHomePage'+currentPopupId;var popupLimitationCookiePageLevelName='SGPBShowingLimitationPage'+currentPopupId;var popupLimitationCookieDomainName='SGPBShowingLimitationDomain'+currentPopupId;var pageLevelCookie=popupData['sgpb-show-popup-same-user-page-level']||!1;if(currentUrl==SGPB_POPUP_PARAMS.homePageUrl){popupLimitationCookiePageLevelName=popupLimitationCookieHomePageLevelName}
var popupLimitationPageLevelCookie=SGPopup.getCookie(popupLimitationCookiePageLevelName);var popupLimitationDomainCookie=SGPopup.getCookie(popupLimitationCookieDomainName);result={'pageLevelCookieName':popupLimitationCookiePageLevelName,'domainLevelCookieName':popupLimitationCookieDomainName,'pageLevelCookie':popupLimitationPageLevelCookie,'domainLevelCookie':popupLimitationDomainCookie,'isPageLevel':pageLevelCookie};return result};SGPBPopup.prototype.themeCreator=function(){var noPositionSelected=!1;var popupData=this.getPopupData();var popupId=this.getPopupId();var popupConfig=this.getPopupConfig();var forceRtlClass='';var forceRtl=SGPBPopup.varToBool(popupData['sgpb-force-rtl']);var popupTheme=popupData['sgpb-popup-themes'];var popupType=popupData['sgpb-type'];var closeButtonWidth=popupData['sgpb-button-image-width'];var closeButtonHeight=popupData['sgpb-button-image-height'];var contentPadding=parseInt(popupData['sgpb-content-padding']);var top=parseInt(popupData['sgpb-button-position-top']);var right=parseInt(popupData['sgpb-button-position-right']);var bottom=parseInt(popupData['sgpb-button-position-bottom']);var left=parseInt(popupData['sgpb-button-position-left']);var contentClass=popupData['sgpb-content-custom-class'];var popupBorder=SGPBPopup.varToBool(popupData['sgpb-disable-border']);var closeButtonImage=popupConfig.closeButtonImage;var themeNumber=1;var backgroundColor='black';var borderColor='inherit';var recentSalesPopup=!1;if(typeof SgpbRecentSalesPopupType!='undefined'){if(popupType==SgpbRecentSalesPopupType){recentSalesPopup=!0;popupTheme='sgpb-theme-2';closeButtonPosition='topRight';backgroundColor='white';borderColor='#ececec';top='-10';right='-10';popupConfig.magicCall('setShadowSpread',1);popupConfig.magicCall('setContentShadowBlur',5);popupConfig.magicCall('setOverlayVisible',!1);popupConfig.magicCall('setContentShadowColor','#000000b3');popupConfig.magicCall('setContentBorderRadius','5px')}}
var themeIndexNum=popupTheme[popupTheme.length-1];if(isNaN(top)){top=this.closeButtonDefaultPositions[themeIndexNum].top}
if(isNaN(right)){right=this.closeButtonDefaultPositions[themeIndexNum].right}
if(isNaN(bottom)){bottom=this.closeButtonDefaultPositions[themeIndexNum].bottom}
if(isNaN(left)){left=this.closeButtonDefaultPositions[themeIndexNum].left}
if(forceRtl){forceRtlClass=' sgpb-popup-content-direction-right'}
if(popupData['sgpb-type']=='countdown'){popupConfig.magicCall('setMinWidth',300)}
popupConfig.magicCall('setContentPadding',contentPadding);popupConfig.magicCall('setOverlayAddClass',popupTheme+'-overlay sgpb-popup-overlay-'+popupId);popupConfig.magicCall('setContentAddClass','sgpb-content sgpb-content-'+popupId+' '+popupTheme+'-content '+contentClass+forceRtlClass);if(typeof popupData['sgpb-close-button-position']=='undefined'||popupData['sgpb-close-button-position']==''){var noPositionSelected=!0}else{var closeButtonPosition=popupData['sgpb-close-button-position'];popupConfig.magicCall('setButtonPosition',closeButtonPosition)}
if(popupTheme=='sgpb-theme-1'){themeNumber=1;popupConfig.magicCall('setShadowSpread',14);if(noPositionSelected||closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else{popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}else if(popupTheme=='sgpb-theme-2'){themeNumber=2;popupConfig.magicCall('setButtonInside',!1);popupConfig.magicCall('setContentBorderWidth',1);popupConfig.magicCall('setContentBackgroundColor',backgroundColor);popupConfig.magicCall('setContentBorderColor',borderColor);popupConfig.magicCall('setOverlayColor','white');var rightPosition='0';var topPosition='-'+closeButtonHeight+'px';if(recentSalesPopup){rightPosition='-'+(closeButtonWidth/2)+'px';topPosition='-'+(closeButtonHeight/2)+'px';themeNumber=6}
if(noPositionSelected||closeButtonPosition=='topRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else{if(closeButtonPosition=='topLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else if(closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else if(closeButtonPosition=='bottomLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}
if(popupBorder){popupConfig.magicCall('setContentBorderWidth',0)}}else if(popupTheme=='sgpb-theme-3'){themeNumber=3;popupConfig.magicCall('setContentBorderWidth',5);popupConfig.magicCall('setContentBorderRadius',popupData['sgpb-border-radius']);popupConfig.magicCall('setContentBorderRadiusType',popupData['sgpb-border-radius-type']);popupConfig.magicCall('setContentBorderColor',popupData['sgpb-border-color']);var closeButtonPositionPx='4px';if(popupBorder){popupConfig.magicCall('setContentBorderWidth',0);closeButtonPositionPx='0px'}
if(noPositionSelected){popupConfig.magicCall('setCloseButtonWidth',38);popupConfig.magicCall('setCloseButtonHeight',19);popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else{if(closeButtonPosition=='topRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else if(closeButtonPosition=='topLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else if(closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionLeft',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else if(closeButtonPosition=='bottomLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}}else if(popupTheme=='sgpb-theme-4'){themeNumber=4;popupConfig.magicCall('setButtonImage',popupData['sgpb-button-text']);popupConfig.magicCall('setCloseButtonType','button');popupConfig.magicCall('setCloseButtonText',popupData['sgpb-button-text']);popupConfig.magicCall('setContentBorderWidth',0);popupConfig.magicCall('setContentBackgroundColor','white');popupConfig.magicCall('setContentBorderColor','white');popupConfig.magicCall('setOverlayColor','white');popupConfig.magicCall('setShadowSpread',4);popupConfig.magicCall('setContentShadowBlur',8);if(noPositionSelected||closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else{popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}else if(popupTheme=='sgpb-theme-5'){themeNumber=5;popupConfig.magicCall('setBoxBorderWidth',10);popupConfig.magicCall('setContentBorderColor','#4B4B4B');if(noPositionSelected||closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else{popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}else if(popupTheme=='sgpb-theme-6'){themeNumber=6;popupConfig.magicCall('setButtonInside',!1);popupConfig.magicCall('setContentBorderRadius',7);popupConfig.magicCall('setContentBorderRadiusType','px');if(noPositionSelected){popupConfig.magicCall('setCloseButtonWidth',37);popupConfig.magicCall('setCloseButtonHeight',37);popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else{if(typeof popupData['sgpb-button-position-right']=='undefined'){right='-'+(closeButtonWidth/2);top='-'+(closeButtonHeight/2);left='-'+(closeButtonWidth/2);bottom='-'+(closeButtonHeight/2)}
if(closeButtonPosition=='topRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else if(closeButtonPosition=='topLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionTop',top+'px')}else if(closeButtonPosition=='bottomRight'){popupConfig.magicCall('setCloseButtonPositionRight',right+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}else if(closeButtonPosition=='bottomLeft'){popupConfig.magicCall('setCloseButtonPositionLeft',left+'px');popupConfig.magicCall('setCloseButtonPositionBottom',bottom+'px')}}}
popupConfig.magicCall('setPopupTheme',themeNumber);if(!popupData['sgpb-button-image']){closeButtonImage=SGPB_POPUP_PARAMS.defaultThemeImages[themeNumber];if(typeof closeButtonImage!='undefined'){popupConfig.magicCall('setButtonImage',closeButtonImage)}}else{popupConfig.magicCall('setButtonImage','data:image/png;base64,'+popupData['sgpb-button-image-data']);if(popupData['sgpb-button-image-data']==''||popupData['sgpb-button-image-data'].indexOf('http')!=-1){popupConfig.magicCall('setButtonImage',popupData['sgpb-button-image'])}}};SGPBPopup.prototype.themeCustomizations=function(){var popupId=this.getPopupId();var popupData=this.getPopupData();var popupConfig=this.getPopupConfig();var contentOpacity=popupData['sgpb-content-opacity'];var contentBgColor=popupData['sgpb-background-color'];if(popupData['sgpb-background-image-data']){var contentBgImage='data:image/png;base64,'+popupData['sgpb-background-image-data']}else{var contentBgImage=popupData['sgpb-background-image']}
var showContentBackground=popupData['sgpb-show-background'];var contentBgImageMode=popupData['sgpb-background-image-mode'];var overlayColor=popupData['sgpb-overlay-color'];var popupTheme=popupData['sgpb-popup-themes'];var popupType=popupData['sgpb-type'];if(typeof popupData['sgpb-overlay-custom-class']=='undefined'){popupData['sgpb-overlay-custom-class']='sgpb-popup-overlay'}
if(typeof popupData['sgpb-popup-themes']=='undefined'){popupTheme='sgpb-theme-2'}
if(typeof showContentBackground=='undefined'){contentBgColor='';contentBgImage='';contentBgImageMode=''}
if(typeof SgpbRecentSalesPopupType!='undefined'){if(popupType==SgpbRecentSalesPopupType){showContentBackground='on';contentBgColor=popupData['sgpb-background-color'];contentOpacity=popupData['sgpb-content-opacity']}}
if(contentOpacity){popupConfig.magicCall('setContentBackgroundOpacity',contentOpacity)}
if(contentBgImageMode){popupConfig.magicCall('setContentBackgroundMode',contentBgImageMode)}
if(contentBgImage){popupConfig.magicCall('setContentBackgroundImage',contentBgImage)}
if(contentBgColor){contentBgColor=SGPBPopup.hexToRgba(contentBgColor,contentOpacity);popupConfig.magicCall('setContentBackgroundColor',contentBgColor)}
if(overlayColor){popupConfig.magicCall('setOverlayColor',overlayColor)}
var overlayClasses=popupTheme+'-overlay sgpb-popup-overlay-'+popupId;if(SGPB_JS_PACKAGES.extensions['advanced-closing']){if(typeof popupData['sgpb-enable-popup-overlay']!='undefined'&&popupData['sgpb-enable-popup-overlay']=='on'){popupData['sgpb-enable-popup-overlay']=!0}else if(typeof popupData['sgpb-enable-popup-overlay']=='undefined'){popupData['sgpb-enable-popup-overlay']=!1}}else{popupData['sgpb-enable-popup-overlay']=!0}
popupConfig.magicCall('setOverlayVisible',SGPBPopup.varToBool(popupData['sgpb-enable-popup-overlay']));if(typeof SgpbRecentSalesPopupType!='undefined'){popupConfig.magicCall('setOverlayVisible',!1)}
if(SGPBPopup.varToBool(popupData['sgpb-enable-popup-overlay'])){popupConfig.magicCall('setOverlayAddClass',overlayClasses+' '+popupData['sgpb-overlay-custom-class']);var overlayOpacity=popupData['sgpb-overlay-opacity']||0.8;popupConfig.magicCall('setOverlayOpacity',overlayOpacity*100)}};SGPBPopup.prototype.formSubmissionDetection=function(args){if(args.length){return!1}
var popupId=args.popupId;var options=SGPBPopup.getPopupOptionsById(popupId);if(!options['sgpb-reopen-after-form-submission']){return!1}
jQuery('.sgpb-popup-builder-content-'+popupId+' form').submit(function(){SGPBPopup.setCookie('SGPBSubmissionReloadPopup',popupId)})};SGPBPopup.prototype.htmlIframeFilterForOpen=function(popupId,popupEventName){var popupContent=jQuery('.sgpb-content-'+popupId);if(!popupContent.length){return!1}
popupContent.find('iframe').each(function(){if(popupEventName!='open'){if(jQuery(this).closest('.fb_iframe_widget').length){return!0}
if(typeof jQuery(this).attr('data-attr-src')=='undefined'){var src=jQuery(this).attr('src');if(src!=''){jQuery(this).attr('data-attr-src',src);jQuery(this).attr('src','')}
return!0}else{var src=jQuery(this).attr('src');if(src!=''){jQuery(this).attr('data-attr-src',src);jQuery(this).attr('src','')}
return!0}}else{if(typeof jQuery(this).attr('data-attr-src')=='undefined'){var src=jQuery(this).attr('src');if(src!=''){jQuery(this).attr('data-attr-src',src)}
return!0}else{var src=jQuery(this).attr('data-attr-src');if(src!=''){jQuery(this).attr('src',src);jQuery(this).attr('data-attr-src',src)}
return!0}}})};SGPBPopup.prototype.iframeSizesInHtml=function(args){var popupId=args.popupId;var popupOptions=args.popupData;var popupContent=jQuery('.sgpb-content-'+popupId);if(!popupContent.length){return!1}
popupContent.find('iframe').each(function(){if(typeof jQuery(this)=='undefined'){return!1}
if(popupOptions['sgpb-popup-dimension-mode']=='customMode'){if(typeof jQuery(this).attr('width')=='undefined'&&typeof popupContent.attr('height')=='undefined'){jQuery(this).css({'width':popupOptions['sgpb-width'],'height':popupOptions['sgpb-height']})}}})};SGPBPopup.prototype.getSearchDataFromContent=function(content){var pattern=/\[(\[?)(pbvariable)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]\*+(?:\[(?!\/\2\])[^\[]\*+)\*+)\[\/\2\])?)(\]?)/gi;var match;var collectedData=[];while(match=pattern.exec(content)){var currentSearchData=[];var attributes;var attributesKeyValue=[];var parseAttributes=/\s(\w+?)="(.+?)"/g;currentSearchData.replaceString=this.htmlDecode(match[0]);while(attributes=parseAttributes.exec(match[3])){attributesKeyValue[attributes[1]]=this.htmlDecode(attributes[2])}
currentSearchData.searchData=attributesKeyValue;collectedData.push(currentSearchData)}
return collectedData};SGPBPopup.prototype.replaceWithCustomShortcode=function(popupId){var currentHtmlContent=jQuery('.sgpb-content-'+popupId).html();var searchData=this.getSearchDataFromContent(currentHtmlContent);var that=this;if(!searchData.length){return!1}
for(var index in searchData){var currentSearchData=searchData[index];var searchAttributes=currentSearchData.searchData;if(typeof searchAttributes.selector=='undefined'||typeof searchAttributes.attribute=='undefined'){that.replaceShortCode(currentSearchData.replaceString,'',popupId);continue}
try{if(!jQuery(searchAttributes.selector).length){that.replaceShortCode(currentSearchData.replaceString,'',popupId);continue}}catch(e){that.replaceShortCode(currentSearchData.replaceString,'',popupId);continue}
if(searchAttributes.attribute=='text'){var replaceName=jQuery(searchAttributes.selector).text()}else{var replaceName=jQuery(searchAttributes.selector).attr(searchAttributes.attribute)}
if(typeof replaceName=='undefined'){that.replaceShortCode(currentSearchData.replaceString,'',popupId);continue}
that.replaceShortCode(currentSearchData.replaceString,replaceName,popupId)}};SGPBPopup.prototype.replaceShortCode=function(shortCode,replaceText,popupId){var popupId=parseInt(popupId);if(!popupId){return!1}
var popupContentWrapper=jQuery('.sgpb-content-'+popupId);if(!popupContentWrapper.length){return!1}
popupContentWrapper.find('div').each(function(){var currentHtmlContent=jQuery(this).contents();if(!currentHtmlContent.length){return!1}
currentHtmlContent.html(function(i,v){if(typeof v!='undefined'){return v.replace(shortCode,replaceText)}})});return!0};SGPBPopup.prototype.popupTriggeringListeners=function(){var that=this;var popupData=this.getPopupData();var popupConfig=this.getPopupConfig();sgAddEvent(window,'sgpbDidOpen',function(e){var args=e.detail;that.iframeSizesInHtml(args);that.formSubmissionDetection(args);var popupOptions=args.popupData;var closeButtonDelay=parseInt(popupOptions['sgpb-close-button-delay']);if(closeButtonDelay){that.closeButtonDisplay(popupOptions['sgpb-post-id'],'show',closeButtonDelay)}
var disablePageScrolling=popupOptions['sgpb-disable-page-scrolling'];if(popupOptions['sgpb-overlay-color']){jQuery('.sgpb-theme-1-overlay').css({'background-image':'none'})}
if(SGPBPopup.varToBool(disablePageScrolling)){jQuery('html').addClass('sgpb-overflow-hidden');jQuery('body').addClass('sgpb-overflow-hidden-body')}});sgAddEvent(window,'sgpbWillOpen',function(e){var args=e.detail;var popupId=parseInt(args.popupId);that.htmlIframeFilterForOpen(args.popupId,'open');that.replaceWithCustomShortcode(popupId);that.sgpbDontShowPopup(popupId);var closeButtonDelay=parseInt(popupData['sgpb-close-button-delay']);if(closeButtonDelay){that.closeButtonDisplay(popupData['sgpb-post-id'],'hide')}
var settings={popupId:popupData['sgpb-post-id'],disabledAnalytics:popupData['sgpb-popup-counting-disabled'],disabledInGeneral:SGPB_POPUP_PARAMS.disableAnalyticsGeneral};jQuery(window).trigger('sgpbDisableAnalytics',settings)});sgAddEvent(window,'sgpbShouldClose',function(e){});sgAddEvent(window,'sgpbWillClose',function(e){var args=e.detail;SGPBPopup.offPopup(e.detail.currentObj)})};SGPBPopup.prototype.sgpbDontShowPopup=function(popupId){var dontShowPopup=jQuery('.sgpb-content-'+popupId).parent().find('[class*="sg-popup-dont-show"]');if(!dontShowPopup.length){return!1}
dontShowPopup.each(function(){jQuery(this).bind('click',function(e){e.preventDefault();var expireTime=SGPB_POPUP_PARAMS.dontShowPopupExpireTime;var cookieName='sgDontShowPopup'+popupId;var classNameSearch=jQuery(this).attr('class').match(/sg-popup-dont-show/);var className=classNameSearch.input;var customExpireTime=className.match(/sg-popup-dont-show-(\d+$)/);if(customExpireTime){expireTime=parseInt(customExpireTime[1])}
SGPBPopup.setCookie(cookieName,expireTime,expireTime);SGPBPopup.closePopupById(popupId)})})};SGPBPopup.prototype.addToCounter=function(popupOptions){if(SGPB_POPUP_PARAMS.isPreview||(typeof popupOptions['sgpb-popup-counting-disabled']!='undefined')){return!1}
var that=this;var openedPopups=window.sgpbOpenedPopup||{};var popupId=parseInt(popupOptions['sgpb-post-id']);if(typeof openedPopups[popupId]=='undefined'){openedPopups[popupId]=1}else{openedPopups[popupId]+=1}
window.sgpbOpenedPopup=openedPopups};SGPBPopup.prototype.closeButtonDisplay=function(popupId,display,delay){if(display=='show'){setTimeout(function(){jQuery('.sgpb-content-'+popupId).prev().show()},delay*1000)}else if(display=='hide'){jQuery('.sgpb-content-'+popupId).prev().hide()}};SGPBPopup.prototype.open=function(args){var customEvent=this.customEvent;var config=this.getPopupConfig();var popupId=this.getPopupId();var eventName=this.eventName;if(typeof window.sgPopupBuilder=='undefined'){window.sgPopupBuilder=[]}
var popupData=SGPBPopup.getPopupWindowDataById(popupId);if(!popupData){window.SGPB_ORDER+=1;var currentObj={'eventName':eventName,'popupId':popupId,'order':window.SGPB_ORDER,'isOpen':!0,'sgpbPopupObj':this};config.currentObj=currentObj;var popupConfig=config.combineConfigObj();var popup=new SGPopup(popupConfig);currentObj.popup=popup;window.sgPopupBuilder.push(currentObj)}else{popup=popupData.popup;popupData.isOpen=!0}
if(typeof args!='undefined'&&!args.countPopupOpen){this.setCountPopupOpen(!1)}
popup.customEvent=customEvent;popup.open();this.setPopupObj(popup);var options=SGPBPopup.getPopupOptionsById(popupId);SgpbEventListener.CF7EventListener(popupId,options);if(typeof options['sgpb-behavior-after-special-events']!='undefined'){if(options['sgpb-behavior-after-special-events'].length){options=options['sgpb-behavior-after-special-events'][0][0];if(options.param=='contact-form-7'){SgpbEventListener.processCF7MailSent(popupId,options)}}}};SGPBPopup.varToBool=function(optionName){var returnValue=optionName?!0:!1;return returnValue};SGPBPopup.hexToRgba=function(hex,opacity){var c;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)){c=hex.substring(1).split('');if(c.length==3){c=[c[0],c[0],c[1],c[1],c[2],c[2]]}
c='0x'+c.join('');return'rgba('+[(c>>16)&255,(c>>8)&255,c&255].join(',')+','+opacity+')'}
throw new Error('Bad Hex')};SGPBPopup.prototype.contentCopyToClick=function(){var popupData=this.getPopupData();var popupId=this.getPopupId();var tempInputId='content-copy-to-click-'+popupId;var value=this.htmlDecode(popupData['sgpb-copy-to-clipboard-text']);var tempInput=document.createElement("input");tempInput.id=tempInputId;tempInput.value=value;tempInput.style='position: absolute; right: -10000px';if(!document.getElementById(tempInputId)){document.body.appendChild(tempInput)}
tempInput.select();document.execCommand("copy");document.body.removeChild(tempInput)};SGPBPopup.prototype.htmlDecode=function(value){return jQuery('<textarea/>').html(value).text()};SGPBPopup.prototype.findTargetInsideExceptionsList=function(targetName,exceptionList){var status=!1;var popupContentMainDiv=document.getElementById('sgpb-popup-dialog-main-div');while(targetName.parentNode){targetName=targetName.parentNode;if(typeof targetName.tagName=='undefined'){continue}
var tagName=targetName.tagName.toLowerCase();if(targetName===popupContentMainDiv){break}
if(exceptionList.indexOf(tagName)!=-1){status=!0;break}}
return status};SGPBPopup.prototype.contentCloseBehavior=function(){var that=this;var popupData=this.getPopupData();var popupId=this.getPopupId();var redirectUrl=popupData['sgpb-click-redirect-to-url'];var contentClickBehavior=popupData['sgpb-content-click-behavior'];var redirectToNewTab=SGPBPopup.varToBool(popupData['sgpb-redirect-to-new-tab']);var closePopupAfterCopy=SGPBPopup.varToBool(popupData['sgpb-copy-to-clipboard-close-popup']);var clipboardAlert=SGPBPopup.varToBool(popupData['sgpb-copy-to-clipboard-alert']);var separators=['&amp;','/&/g'];for(var i in separators){redirectUrl=redirectUrl.split(separators[i]).join('&')}
sgAddEvent(window,'sgpbDidOpen',function(e){});sgAddEvent(window,'sgpbWillOpen',function(e){if(popupId!=e.detail.popupId||e.detail.popupData['sgpb-content-click']=='undefined'){return!1}
if(contentClickBehavior=='redirect'){jQuery('.sgpb-content-'+popupId).addClass('sgpb-cursor-pointer')}
jQuery('.sgpb-content-'+e.detail.popupId).on('click',function(event){var settings={popupId:popupId,eventName:'sgpbPopupContentClick'};jQuery(window).trigger('sgpbPopupContentClick',settings);if(contentClickBehavior=='redirect'){if(redirectToNewTab){window.open(redirectUrl);SGPBPopup.closePopupById(that.getPopupId());return}
window.location=redirectUrl;SGPBPopup.closePopupById(that.getPopupId())}else if(contentClickBehavior=='copy'){var exceptionList=['input','textarea','select','button','a'];var targetName=event.target.tagName.toLowerCase();var parentTagName=event.target.parentNode.tagName.toLowerCase();var parentsIsInExceptionsList=that.findTargetInsideExceptionsList(event.target,exceptionList);if(exceptionList.indexOf(targetName)==-1&&!parentsIsInExceptionsList){that.contentCopyToClick();if(closePopupAfterCopy){SGPBPopup.closePopupById(that.getPopupId())}
if(clipboardAlert){alert(popupData['sgpb-copy-to-clipboard-message'])}}}else if(popupData['sgpb-disable-popup-closing']!='on'){SGPBPopup.closePopupById(that.getPopupId())}})});sgAddEvent(window,'sgpbDidClose',function(e){})};SGPBPopup.prototype.addFixedPosition=function(){var popupData=this.getPopupData();var popupId=this.getPopupId();var popupConfig=this.getPopupConfig();var fixedPosition=popupData['sgpb-popup-fixed-position'];var positionRight='';var positionTop='';var positionBottom='';var positionLeft='';if(fixedPosition==1){positionTop=40;positionLeft=20}else if(fixedPosition==2){positionLeft='center';positionTop=40}else if(fixedPosition==3){positionTop=40;positionRight=20}else if(fixedPosition==4){positionTop='center';positionLeft=20}else if(fixedPosition==6){positionTop='center';positionRight=20}else if(fixedPosition==7){positionLeft=20;positionBottom=2}else if(fixedPosition==8){positionLeft='center';positionBottom=2}else if(fixedPosition==9){positionRight=20;positionBottom=2}
if(typeof SgpbRecentSalesPopupType!='undefined'){if(popupData['sgpb-type']==SgpbRecentSalesPopupType){if(positionTop!=''){positionTop=parseInt(positionTop+10)}else if(positionBottom!=''){positionBottom=parseInt(positionBottom+10)}}}
popupConfig.magicCall('setPositionTop',positionTop);popupConfig.magicCall('setPositionRight',positionRight);popupConfig.magicCall('setPositionBottom',positionBottom);popupConfig.magicCall('setPositionLeft',positionLeft)};SGPBPopup.prototype.setPopupDimensions=function(){var popupData=this.getPopupData();var popupConfig=this.getPopupConfig();var popupId=this.getPopupId();var dimensionData=popupData['sgpb-popup-dimension-mode'];var maxWidth=popupData['sgpb-max-width'];var maxHeight=popupData['sgpb-max-height'];var minWidth=popupData['sgpb-min-width'];var minHeight=popupData['sgpb-min-height'];var contentPadding=popupData['sgpb-content-padding'];var popupType=popupData['sgpb-type'];popupConfig.magicCall('setMaxWidth',maxWidth);popupConfig.magicCall('setMaxHeight',maxHeight);popupConfig.magicCall('setMinWidth',minWidth);popupConfig.magicCall('setMinHeight',minHeight);if(popupType=='image'){popupConfig.magicCall('setContentBackgroundImage',popupData['sgpb-image-url']);popupConfig.magicCall('setContentBackgroundMode','contain');if(dimensionData=='customMode'){popupConfig.magicCall('setContentBackgroundPosition','center center')}}
if(dimensionData=='responsiveMode'){var dimensionMeasure=popupData['sgpb-responsive-dimension-measure'];if(popupType=='image'&&dimensionMeasure!='fullScreen'){popupConfig.magicCall('setContentBackgroundMode','fit');this.setMaxWidthForResponsiveImage()}
var popupConfig=this.getPopupConfig();if(dimensionMeasure!='auto'){popupConfig.magicCall('setWidth',dimensionMeasure+'%');popupConfig.magicCall('setContentBackgroundPosition','center')}else{var widthToSet=jQuery('.sgpb-popup-builder-content-'+popupId).width()+(contentPadding*2);if(isNaN(widthToSet)){widthToSet='auto'}else{popupConfig.magicCall('setContentBackgroundPosition','center center');widthToSet+='px'}
popupConfig.magicCall('setWidth',widthToSet);if(dimensionMeasure=='fullScreen'){popupConfig.magicCall('setHeight',widthToSet)}}
return popupConfig}
var popupWidth=popupData['sgpb-width'];var popupHeight=popupData['sgpb-height'];popupConfig.magicCall('setWidth',popupWidth);popupConfig.magicCall('setHeight',popupHeight);return popupConfig};SGPBPopup.prototype.setMaxWidthForResponsiveImage=function(){var popupData=this.getPopupData();var popupConfig=this.getPopupConfig();var dimensionMeasure=popupData['sgpb-responsive-dimension-measure'];if(dimensionMeasure!='auto'){var maxWidth=popupData['sgpb-max-width'];if(maxWidth==''){popupConfig.magicCall('setMaxWidth',dimensionMeasure+'%');return!0}
popupConfig.magicCall('setMaxWidth',dimensionMeasure+'%');if(maxWidth.indexOf('%')!='-1'){if(parseInt(maxWidth)<dimensionMeasure){popupConfig.magicCall('setMaxWidth',maxWidth)}}else{var responsiveMeasureInPx=(dimensionMeasure*window.innerWidth)/100;if(maxWidth<responsiveMeasureInPx){popupConfig.magicCall('setMaxWidth',maxWidth)}}}};SGPBPopup.JSONParse=function(data){return JSON.parse(atob(data,!0))};SGPBPopup.b64DecodeUnicode=function(str){var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=this._keyStr.indexOf(input.charAt(i++));enc2=this._keyStr.indexOf(input.charAt(i++));enc3=this._keyStr.indexOf(input.charAt(i++));enc4=this._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output+=String.fromCharCode(chr1);if(enc3!=64){output+=String.fromCharCode(chr2)}
if(enc4!=64){output+=String.fromCharCode(chr3)}}
output=Base64._utf8_decode(output);return output},_utf8_decode:function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3}}
return string}};return Base64.decode(str)};SGPBPopup.unserialize_old=function(data){data=SGPBPopup.b64DecodeUnicode(data);var $global=(typeof window!=='undefined'?window:global);var utf8Overhead=function(str){var s=str.length;for(var i=str.length-1;i>=0;i--){var code=str.charCodeAt(i);if(code>0x7f&&code<=0x7ff){s++}else if(code>0x7ff&&code<=0xffff){s+=2}
if(code>=0xDC00&&code<=0xDFFF){i--}}
return s-1};var error=function(type,msg,filename,line){throw new $global[type](msg,filename,line)};var readUntil=function(data,offset,stopchr){var i=2;var buf=[];var chr=data.slice(offset,offset+1);while(chr!==stopchr){if((i+offset)>data.length){error('Error','Invalid')}
buf.push(chr);chr=data.slice(offset+(i-1),offset+i);i+=1}
return[buf.length,buf.join('')]};var readChrs=function(data,offset,length){var i,chr,buf;buf=[];for(i=0;i<length;i++){chr=data.slice(offset+(i-1),offset+i);buf.push(chr);length-=utf8Overhead(chr)}
return[buf.length,buf.join('')]};function _unserialize(data,offset){var dtype;var dataoffset;var keyandchrs;var keys;var contig;var length;var array;var readdata;var readData;var ccount;var stringlength;var i;var key;var kprops;var kchrs;var vprops;var vchrs;var value;var chrs=0;var typeconvert=function(x){return x};if(!offset){offset=0}
dtype=(data.slice(offset,offset+1)).toLowerCase();dataoffset=offset+2;switch(dtype){case 'i':typeconvert=function(x){return parseInt(x,10)};readData=readUntil(data,dataoffset,';');chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case 'b':typeconvert=function(x){return parseInt(x,10)!==0};readData=readUntil(data,dataoffset,';');chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case 'd':typeconvert=function(x){return parseFloat(x)};readData=readUntil(data,dataoffset,';');chrs=readData[0];readdata=readData[1];dataoffset+=chrs+1;break;case 'n':readdata=null;break;case 's':ccount=readUntil(data,dataoffset,':');chrs=ccount[0];stringlength=ccount[1];dataoffset+=chrs+2;readData=readChrs(data,dataoffset+1,parseInt(stringlength,10));chrs=readData[0];readdata=readData[1];dataoffset+=chrs+2;if(chrs!==parseInt(stringlength,10)&&chrs!==readdata.length){error('SyntaxError','String length mismatch')}
break;case 'a':readdata={};keyandchrs=readUntil(data,dataoffset,':');chrs=keyandchrs[0];keys=keyandchrs[1];dataoffset+=chrs+2;length=parseInt(keys,10);contig=!0;for(i=0;i<length;i++){kprops=_unserialize(data,dataoffset);kchrs=kprops[1];key=kprops[2];dataoffset+=kchrs;vprops=_unserialize(data,dataoffset);vchrs=vprops[1];value=vprops[2];dataoffset+=vchrs;if(key!==i){contig=!1}
readdata[key]=value}
if(contig){array=new Array(length);for(i=0;i<length;i++){array[i]=readdata[i]}
readdata=array}
dataoffset+=1;break;default:error('SyntaxError','Unknown / Unhandled data type(s): '+dtype);break}
return[dtype,dataoffset-offset,typeconvert(readdata)]}
return _unserialize((data+''),0)[2]};SGPBPopup.closePopup=function(){var popupObjs=window.sgPopupBuilder;var lastPopupObj=this.getLastPopup();if(typeof lastPopupObj=='undefined'){return!1}
var popupId=lastPopupObj.popupId;SGPBPopup.closePopupById(popupId)};SGPBPopup.closePopupById=function(popupId){var popupObjs=window.sgPopupBuilder;if(!popupObjs.length){return}
for(var i in popupObjs){var currentObj=popupObjs[i];if(currentObj.popupId==popupId){var popupObj=popupObjs[i].popup;if(popupObj){popupObj.close(!0)}}}};SGPBPopup.getPopupWindowDataById=function(popupId){var popups=window.sgPopupBuilder;var popup=!1;if(typeof popups=='undefined'||!popups.length){return popup}
for(var i in popups){var popupData=popups[i];if(popupData.popupId==popupId){popup=popupData;break}}
return popup};SGPBPopup.findPopupObjById=function(popupId){var popup=!1;var popupData=SGPBPopup.getPopupWindowDataById(popupId);if(popupData){popup=popupData.popup}
return popup};SGPBPopup.getLastPopup=function(){var popups=window.sgPopupBuilder;var popup=!1;if(!popups.length){return popup}
var searchPopups=[].concat(popups);for(var i in searchPopups){var popupData=searchPopups[i];if(popupData.isOpen){popup=popupData;break}}
return popup};SGPBPopup.offPopup=function(currentPopup){var popups=window.sgPopupBuilder;if(!popups.length){return!1}
for(var i in popups){var popupData=popups[i];if(popupData.order==currentPopup.order&&popupData.eventName==currentPopup.eventName){popups[i].isOpen=!1;break}}
return!0};SGPBPopup.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1)};SGPBPopup.getParamFromUrl=function(param){var url=window.location.href;param=param.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+param+"(=([^&#]*)|&|#|$)"),results=regex.exec(url);if(!results){return null}
if(!results[2]){return''}
return decodeURIComponent(results[2].replace(/\+/g," "))};SGPBPopup.setCookie=function(cName,cValue,exDays,cPageLevel){var sameSite='Lax';var isPreview=SGPBPopup.getParamFromUrl('preview');if(isPreview){return!1}
var expirationDate=new Date();var cookiePageLevel='';var cookieExpirationData=1;if(!exDays||isNaN(exDays)){if(!exDays&&exDays===0){exDays='session'}else{exDays=365*50}}
if(!Boolean(cPageLevel)){cookiePageLevel='path=/;'}
if(exDays=='session'){cookieExpirationData=0}else{expirationDate.setDate(parseInt(expirationDate.getDate()+parseInt(exDays)));cookieExpirationData=expirationDate.toUTCString()}
var expires='expires='+cookieExpirationData;if(exDays==-1){expires=''}
if(!cookieExpirationData){expires=''}
if(SGPBPopup.isIE()){cookiePageLevel=''}
var value=cValue+((exDays==null)?';':'; '+expires+';'+cookiePageLevel+'; SameSite='+sameSite);document.cookie=cName+'='+value};SGPBPopup.isIE=function(){ua=navigator.userAgent;var isIe=ua.indexOf('MSIE ')>-1||ua.indexOf('Trident/')>-1;return isIe};SGPBPopup.getCookie=function(cName){var name=cName+'=';var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1)}
if(c.indexOf(name)==0){return c.substring(name.length,c.length)}}
return''};SGPBPopup.deleteCookie=function(cName,cPath){if(!cPath){cPath='path=/;'}
document.cookie=cName+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;'+cPath};function SgpbEventListener(){this.evenets=null;this.popupObj={}}
SgpbEventListener.inactivityIdicator=0;SgpbEventListener.prototype.setEvents=function(events){this.evenets=events};SgpbEventListener.prototype.getEvents=function(){return this.evenets};SgpbEventListener.prototype.setPopupObj=function(popupObj){this.popupObj=popupObj};SgpbEventListener.prototype.getPopupObj=function(){return this.popupObj};SgpbEventListener.eventsListenerAfterDocumentReady=function(){window.SGPB_SOUND=[];sgAddEvent(window,'sgpbDidOpen',function(e){SGPBPopup.playMusic(e)});sgAddEvent(window,'sgpbDidClose',function(e){var args=e.detail;var popupId=parseInt(args.popupId);if(typeof window.SGPB_SOUND[popupId]&&window.SGPB_SOUND[popupId]){window.SGPB_SOUND[popupId].pause();delete window.SGPB_SOUND[popupId]}})};SgpbEventListener.init=function(){SgpbEventListener.eventsListenerAfterDocumentReady();var popupsData=jQuery('.sg-popup-builder-content');if(!popupsData){return''}
var that=this;popupsData.each(function(){var popupObj=that.popupObjCreator(jQuery(this));SGPBPopup.floatingButton(popupObj)})};SgpbEventListener.popupObjCreator=function(currentData){var popupId=currentData.data('id');var popupData=currentData.data('options');var events=currentData.attr('data-events');events=jQuery.parseJSON(events);SgpbEventListener.reopenAfterFormSubmission(popupData);var popupObj=new SGPBPopup();popupObj.setPopupId(popupId);popupObj.setPopupData(popupData);for(var i in events){var obj=new this;obj.setPopupObj(popupObj);obj.eventListener(events[i])}
return popupObj};SgpbEventListener.prototype.eventListener=function(eventData){if(eventData==null){return''}
var event='';if(typeof eventData=='string'){event=eventData}else if(typeof eventData.param!='undefined'){event=eventData.param}
if(!event){return!1}
var popupObj=this.getPopupObj();var popupData=popupObj.getPopupData();if(eventData.value==''){eventData.value=popupData['sgpb-popup-delay']}
var eventName=SGPBPopup.capitalizeFirstLetter(event);eventName='sgpb'+eventName;popupObj.eventName=eventName;var allowToOpen=popupObj.forceCheckCurrentPopupType(popupObj);if(!allowToOpen){return!1}
try{eval('this.'+eventName)(this,eventData)}catch(err){console.log(err)}};SgpbEventListener.reopenAfterFormSubmission=function(eventData){var popupId=SGPBPopup.getCookie('SGPBSubmissionReloadPopup');popupId=parseInt(popupId);if(!popupId){return!1}
var popupObj=SGPBPopup.createPopupObjById(popupId);if(!popupObj){return!1}
var options=popupObj.getPopupData();if(!options['sgpb-reopen-after-form-submission']){return!1}
popupObj.prepareOpen();SGPBPopup.deleteCookie('SGPBSubmissionReloadPopup')};SgpbEventListener.prototype.sgpbLoad=function(listenerObj,eventData){var timeout=parseInt(eventData.value);var popupObj=listenerObj.getPopupObj();var popupOptions=popupObj.getPopupData();timeout*=1000;var timerId,repetitiveTimeout=null;popupObj.forceCheckCurrentPopupType(popupObj);var openOnLoadPopup=function(){setTimeout(function(){jQuery(window).trigger('sgpbLoadEvent',popupOptions);popupObj.prepareOpen()},timeout)};sgAddEvent(window,'load',openOnLoadPopup(timeout,popupObj));sgAddEvent(window,'sgpbDidOpen',function(e){var args=e.detail;clearInterval(repetitiveTimeout)});sgAddEvent(window,'sgpbDidClose',function(e){var args=e.detail;var options=popupObj.getPopupData();if(SGPBPopup.varToBool(eventData.repetitive)){var intervalTime=parseInt(eventData.value)*1000;repetitiveTimeout=setInterval(function(){popupObj.prepareOpen()},intervalTime)}})};SgpbEventListener.prototype.timerIncrement=function(listenerObj,idleInterval){var lastActivity=SgpbEventListener.inactivityIdicator;if(lastActivity==0){clearInterval(idleInterval);listenerObj.getPopupObj().prepareOpen()}
SgpbEventListener.inactivityIdicator=0};SgpbEventListener.prototype.sgpbInsideclick=function(listenerObj,eventData){sgAddEvent(window,'sgpbDidOpen',function(e){var args=e.detail;var that=listenerObj;var popupObj=that.getPopupObj();var popupId=parseInt(popupObj.id);var targetClick=jQuery('.sgpb-content .sgpb-popup-id-'+popupId);if(!targetClick.length){return!1}
targetClick.each(function(){jQuery(this).unbind('click').bind('click',function(){var dontCloseCurrentPopup=jQuery(this).attr('dontCloseCurrentPopup');if(typeof dontCloseCurrentPopup=='undefined'||dontCloseCurrentPopup!='on'){SGPBPopup.closePopup()}
popupObj.prepareOpen()})})})};SgpbEventListener.prototype.sgpbClick=function(listenerObj,eventData){var that=listenerObj;var popupIds=[];var popupObj=that.getPopupObj();var popupOptions=popupObj.getPopupData();var popupId=parseInt(popupObj.id);popupIds.push(popupId);var mapId=listenerObj.filterPopupId(popupId);popupIds.push(mapId);if(jQuery.inArray(mapId,popupIds)===-1){popupIds.push(mapId)}
for(var key in popupIds){var popupId=popupIds[key];if(!popupIds.hasOwnProperty(key)){return!1}
var targetClick=jQuery('a[href*="#sg-popup-id-'+popupId+'"], .sg-popup-id-'+popupId+', .sgpb-popup-id-'+popupId);if(typeof eventData.operator!='undefined'&&eventData.operator=='clickActionCustomClass'){targetClick=jQuery('a[href*="#sg-popup-id-'+popupId+'"], .sg-popup-id-'+popupId+', .sgpb-popup-id-'+popupId+', .'+eventData.value)}
if(!targetClick.length){continue}
var delay=parseInt(popupOptions['sgpb-popup-delay'])*1000;var clickCount=1;targetClick.each(function(){if(!jQuery(this).attr('data-popup-id')){jQuery(this).attr('data-popup-id',popupId)}
var currentTarget=jQuery(this);currentTarget.bind('click touchstart',function(e){if(clickCount>1){return!0}
var allowToOpen=popupObj.forceCheckCurrentPopupType(popupObj);if(!allowToOpen){return!0}
++clickCount;jQuery(window).trigger('sgpbClickEvent',popupOptions);var popupId=jQuery(this).data('popup-id');setTimeout(function(){var popupObj=SGPBPopup.createPopupObjById(popupId);if(!popupObj){var mapId=listenerObj.filterPopupId(popupId);popupObj=SGPBPopup.createPopupObjById(mapId)}
popupObj.customEvent='Click';popupObj.prepareOpen();clickCount=1},delay);return!1})})}};SgpbEventListener.prototype.sgpbHover=function(listenerObj,eventData){var that=listenerObj;var popupObj=that.getPopupObj();if(!popupObj){return!1}
var popupIds=[];var popupOptions=popupObj.getPopupData();var popupId=parseInt(popupObj.id);popupIds.push(popupId);var mapId=listenerObj.filterPopupId(popupId);if(jQuery.inArray(mapId,popupIds)===-1){popupIds.push(mapId)}
for(var key in popupIds){var popupId=popupIds[key];if(!popupIds.hasOwnProperty(key)){return!1}
var hoverSelector=jQuery('.sg-popup-hover-'+popupId+', .sgpb-popup-id-'+popupId+'[data-popup-event="hover"]');if(typeof eventData.operator!='undefined'&&eventData.operator=='hoverActionCustomClass'){hoverSelector=jQuery('.sg-popup-hover-'+popupId+', .sgpb-popup-id-'+popupId+'[data-popup-event="hover"]'+', .'+eventData.value)}
if(!hoverSelector){return!1}
var hoverCount=1;var delay=parseInt(popupOptions['sgpb-popup-delay'])*1000;hoverSelector.each(function(){if(!jQuery(this).attr('data-popup-id')){jQuery(this).attr('data-popup-id',popupId)}
jQuery(this).bind('mouseenter',function(){if(hoverCount>1){return!1}
++hoverCount;var popupId=jQuery(this).data('popup-id');jQuery(window).trigger('sgpbHoverEvent',popupOptions);setTimeout(function(){var popupObj=SGPBPopup.createPopupObjById(popupId);if(!popupObj){var mapId=listenerObj.filterPopupId(popupId);popupObj=SGPBPopup.createPopupObjById(mapId)}
popupObj.customEvent='Hover';popupObj.prepareOpen();hoverCount=1},delay)})})}};SgpbEventListener.prototype.sgpbConfirm=function(listenerObj,eventData){var that=listenerObj;var popupObj=that.getPopupObj();if(!popupObj){return!1}
var popupIds=[];var popupOptions=popupObj.getPopupData();var popupId=parseInt(popupObj.id);popupIds.push(popupId);var mapId=listenerObj.filterPopupId(popupId);popupIds.push(mapId);for(var key in popupIds){var popupId=popupIds[key];if(!popupIds.hasOwnProperty(key)){return!1}
var confirmSelector=jQuery('.sg-confirm-popup-'+popupId);if(!confirmSelector){return!1}
var confirmCount=1;confirmSelector.bind('click',function(e){if(confirmCount>1){return!1}
++confirmCount;var allowToOpen=popupObj.forceCheckCurrentPopupType(popupObj);if(!allowToOpen){return!0}
jQuery(window).trigger('sgpbConfirmEvent',popupOptions);var target=jQuery(this).attr('target');if(typeof target=='undefined'){target='self'}
var href=jQuery(this).attr('href');var delay=parseInt(popupOptions['sgpb-popup-delay'])*1000;setTimeout(function(){if(typeof href!='undefined'){popupOptions['sgpb-confirm-'+popupId]={'target':target,'href':href};popupObj.setPopupData(popupOptions)}
popupObj.prepareOpen();confirmCount=1},delay);return!1});sgAddEvent(window,'sgpbDidClose',function(e){var args=e.detail;var popupId=parseInt(args.popupId);var popupOptions=args.popupData;if(typeof popupOptions['sgpb-confirm-'+popupId]!='undefined'){var confirmAgrs=popupOptions['sgpb-confirm-'+popupId];if(confirmAgrs.target=='_blank'){window.open(confirmAgrs.href)}else{window.location.href=confirmAgrs.href}
delete popupOptions['sgpb-confirm-'+popupId];popupObj.setPopupData(popupOptions)}})}};SgpbEventListener.prototype.sgpbAttronload=function(listenerObj,eventData){var that=listenerObj;var popupObj=that.getPopupObj();var popupId=parseInt(popupObj.id);popupId=listenerObj.filterPopupId(popupId);var popupOptions=popupObj.getPopupData();var delay=parseInt(popupOptions['sgpb-popup-delay'])*1000;jQuery(window).trigger('sgpbAttronloadEvent',popupOptions);setTimeout(function(){popupObj.prepareOpen()},delay)};SgpbEventListener.prototype.filterPopupId=function(popupId){var convertedIds=SGPB_POPUP_PARAMS.convertedIdsReverse;var popupNewId=popupId;if(convertedIds[popupId]){return convertedIds[popupId]}else{for(var i in convertedIds){if(popupId==convertedIds[i]){popupNewId=parseInt(i);break}}}
return popupNewId};SgpbEventListener.findCF7InPopup=function(popupId){return document.querySelector('#sg-popup-content-wrapper-'+popupId+' .wpcf7')};SgpbEventListener.CF7EventListener=function(popupId,options){var wpcf7Elm=SgpbEventListener.findCF7InPopup(popupId);if(wpcf7Elm){wpcf7Elm.addEventListener('wpcf7mailsent',function(event){var settings={popupId:popupId,eventName:'sgpbCF7Success'};jQuery(window).trigger('sgpbCF7Success',settings)})}};SgpbEventListener.processCF7MailSent=function(popupId,options){var wpcf7Elm=SgpbEventListener.findCF7InPopup(popupId);if(wpcf7Elm){wpcf7Elm.addEventListener('wpcf7mailsent',function(event){if(typeof options.operator=='undefined'){return}
if(options.operator=='close-popup'){setTimeout(function(){SGPBPopup.closePopupById(popupId)},parseInt(options.value)*1000)}else if(options.operator=='redirect-url'){window.location.href=options.value}else if(options.operator=='open-popup'){SGPBPopup.closePopupById(popupId);var popupObj=SGPBPopup.createPopupObjById(Object.keys(options.value)[0]);popupObj.prepareOpen()}},!1)}};jQuery(document).ready(function(e){setTimeout(function(){SgpbEventListener.init();SGPBPopup.listeners()},1)});
function SGPBSubscription(){this.expiryTime=365;this.submissionPopupId=0;this.newWindow=null;this.init()}
SGPBSubscription.cookieName='SGPBSubscription';SGPBSubscription.prototype.init=function(){if(typeof SGPBFormBuilder!=='undefined'){return!1}
this.livePreview();this.formSubmission()};SGPBSubscription.prototype.formSubmission=function(){var that=this;if(typeof sgAddEvent==='undefined'){return!1}
sgAddEvent(window,'sgpbDidOpen',function(e){var popupArgs=e.detail;var popupId=popupArgs.popupId;var popupOptions=SGPBPopup.getPopupOptionsById(popupId);var additionalPopupParams={};var subscriptionForm=jQuery('#sgpb-popup-dialog-main-div .sgpb-subs-form-'+popupId+' form');var submitButton=subscriptionForm.find('.js-subs-submit-btn');var sgpbSubsValidateObj={};try{sgpbSubsValidateObj=eval('sgpbSubsValidateObj'+popupId)}catch(err){}
if(typeof sgpbSubsValidateObj!=='object'){return!1}
jQuery.validator.setDefaults({errorPlacement:function(error,element){var errorWrapperClassName=jQuery(element).attr('data-error-message-class');jQuery('.sgpb-subs-form-'+popupId+' .'+errorWrapperClassName).html(error)}});sgpbSubsValidateObj.submitHandler=function(){var formData=subscriptionForm.serialize();var ajaxData={action:'sgpb_subscription_submission',nonce:SGPB_JS_PARAMS.nonce,beforeSend:function(){submitButton.val(submitButton.attr('data-progress-title'));if(popupOptions['sgpb-subs-success-behavior']==='redirectToURL'&&popupOptions['sgpb-subs-success-redirect-new-tab']){that.newWindow=window.open(popupOptions['sgpb-subs-success-redirect-URL'])}},formData:formData,popupPostId:popupId};jQuery.post(SGPB_JS_PARAMS.ajaxUrl,ajaxData,function(res){that.submissionPopupId=popupId;jQuery('.sgpb-subs-form-'+popupId+' .sgpb-alert').addClass('sg-hide-element');submitButton.val(submitButton.attr('data-title'));additionalPopupParams.res=res;that.showMessages(additionalPopupParams);that.processAfterSuccessfulSubmission(ajaxData)})};subscriptionForm.validate(sgpbSubsValidateObj)});jQuery(window).on('sgpbDidClose',function(e){var popupArgs=e.detail;var popupId=popupArgs.popupId;jQuery('.sgpb-subs-form-'+popupId+' form label.error').hide()})};SGPBSubscription.prototype.processAfterSuccessfulSubmission=function(ajaxData){if(jQuery.isEmptyObject(ajaxData)){return!1}
ajaxData.action='sgpb_process_after_submission';jQuery.post(SGPB_JS_PARAMS.ajaxUrl,ajaxData,function(res){})};SGPBSubscription.prototype.showMessages=function(res){var that=this;if(res.res==1){this.subscriptionSuccessBehavior()}else{if(that.newWindow!==null){that.newWindow.close()}
this.showErrorMessage()}
window.dispatchEvent(new Event('resize'));return!0};SGPBSubscription.prototype.showErrorMessage=function(){var popupId=parseInt(this.submissionPopupId);jQuery('.sgpb-subs-form-'+popupId+' .sgpb-alert-danger').removeClass('sg-hide-element')};SGPBSubscription.prototype.subscriptionSuccessBehavior=function(){var settings={popupId:this.submissionPopupId,eventName:'sgpbSubscriptionSuccess'};jQuery(window).trigger('sgpbFormSuccess',settings);var popupId=parseInt(this.submissionPopupId);var popupOptions=SGPBPopup.getPopupOptionsById(popupId);var behavior='showMessage';jQuery('.sgpb-subs-form-'+popupId+' form').remove();if(typeof popupOptions['sgpb-subs-hide-subs-users']!=='undefined'){this.setSubscriptionCookie(popupId)}
if(typeof popupOptions['sgpb-subs-success-behavior']!=='undefined'){behavior=popupOptions['sgpb-subs-success-behavior']}
this.resetFieldsValues();switch(behavior){case'showMessage':jQuery('.sgpb-subs-form-'+popupId+' .sgpb-alert-success').removeClass('sg-hide-element');break;case'redirectToURL':this.redirectToURL(popupOptions);break;case'openPopup':this.openSuccessPopup(popupOptions);break;case'hidePopup':SGPBPopup.closePopupById(this.submissionPopupId);break}};SGPBSubscription.prototype.openSuccessPopup=function(popupOptions){var that=this;setTimeout(function(){SGPBPopup.closePopupById(that.submissionPopupId)},0);if(typeof popupOptions['sgpb-subs-success-popup']!=='undefined'){sgAddEvent(window,'sgpbDidClose',this.openPopup(popupOptions))}};SGPBSubscription.prototype.openPopup=function(popupOptions){if(typeof popupOptions['sgpb-subs-success-popup']==='undefined'){return!1}
var subPopupId=parseInt(popupOptions['sgpb-subs-success-popup']);var subPopupOptions=SGPBPopup.getPopupOptionsById(subPopupId);var popupObj=new SGPBPopup();popupObj.setPopupId(subPopupId);popupObj.setPopupData(subPopupOptions);setTimeout(function(){popupObj.prepareOpen()},500)};SGPBSubscription.prototype.setSubscriptionCookie=function(popupId){var currentUrl=window.location.href;var cookieName=SGPBSubscription.cookieName+popupId;var expiryTime=this.expiryTime;if(SGPopup.getCookie(cookieName)===''){var cookieObject=[currentUrl];SGPBPopup.setCookie(cookieName,JSON.stringify(cookieObject),expiryTime)}};SGPBSubscription.prototype.redirectToURL=function(popupOptions){var redirectURL=popupOptions['sgpb-subs-success-redirect-URL'];var redirectToNewTab=popupOptions['sgpb-subs-success-redirect-new-tab'];SGPBPopup.closePopupById(this.submissionPopupId);if(redirectToNewTab){return!0}
window.location.href=redirectURL};SGPBSubscription.prototype.resetFieldsValues=function(){if(!jQuery('.js-subs-text-inputs').length){return!1}
jQuery('.js-subs-text-inputs').each(function(){jQuery(this).val('')})};SGPBSubscription.prototype.livePreview=function(){this.binding();this.changeLabels();this.changeButtonTitle();this.changeColor();this.changeOpacity();this.changePadding();this.changeDimension();this.preventDefaultSubmission();if(typeof SGPBBackend==='function'){SGPBBackend.makeContactAndSubscriptionFieldsRequired()}};SGPBSubscription.prototype.preventDefaultSubmission=function(){var formSubmitButton=jQuery('.sgpb-subscription-admin-wrapper input[type="submit"]');if(!formSubmitButton.length){return!1}
formSubmitButton.bind('click',function(e){e.preventDefault()})};SGPBSubscription.prototype.changeDimension=function(){var that=this;jQuery('.js-subs-dimension').change(function(){var element=jQuery(this);var dimension=that.changeDimensionMode(element.val());var styleType=element.attr('data-style-type');var fieldtype=element.attr('data-field-type');var selector=element.attr('data-subs-rel');if(fieldtype==='input'){jQuery('.sgpb-gdpr-label-wrapper').css('width',dimension);jQuery('.sgpb-gdpr-info').css('width',dimension)}
var styleObj={};styleObj[styleType]=dimension;jQuery('.'+selector).css(styleObj)})};SGPBSubscription.prototype.changePadding=function(){jQuery('.js-sgpb-form-padding').on('change keydown keyup',function(){var padding=jQuery(this).val();jQuery('.sgpb-subscription-admin-wrapper').css('padding',padding+'px')})};SGPBSubscription.prototype.changeColor=function(){var that=this;if(typeof jQuery.wp==='undefined'||typeof jQuery.wp.wpColorPicker!=='function'){return!1}
jQuery('.js-subs-color-picker').each(function(){var currentColorPicker=jQuery(this);currentColorPicker.wpColorPicker({change:function(){that.colorPickerChange(jQuery(this))}})});jQuery('.wp-picker-holder').mouseover(function(){var selectedInput=jQuery(this).prev().find('.js-subs-color-picker');that.colorPickerChange(selectedInput)});jQuery('.wp-picker-holder').bind('click',function(){var selectedInput=jQuery(this).prev().find('.js-subs-color-picker');that.colorPickerChange(selectedInput)})};SGPBSubscription.prototype.changeOpacity=function(){var that=this;jQuery('.js-subs-bg-opacity').on('change',function(){that.colorPickerChange(jQuery('input[name=sgpb-subs-form-bg-color]'))})};SGPBSubscription.prototype.setupPlaceholderColor=function(element,color){jQuery('.'+element).each(function(){jQuery('#sgpb-placeholder-style').remove();var styleContent='.'+element+'::-webkit-input-placeholder {color: '+color+' !important;}';styleContent+='.'+element+'::-moz-placeholder {color: '+color+' !important;}';styleContent+='.'+element+'::-ms-placeholder {color: '+color+' !important;}';var styleBlock='<style id="sgpb-placeholder-style">'+styleContent+'</style>';jQuery('head').append(styleBlock)})};SGPBSubscription.prototype.colorPickerChange=function(colorPicker){var that=this;var opacity=jQuery('input[name=sgpb-subs-form-bg-opacity]').val();var colorValue=colorPicker.val();if(typeof colorValue==='undefined'){return!1}
colorValue=SGPBBackend.hexToRgba(colorValue,opacity);var styleType=colorPicker.attr('data-style-type');var selector=colorPicker.attr('data-subs-rel');if('placeholder'===styleType){that.setupPlaceholderColor(selector,colorValue);return!1}
var styleObj={};styleObj[styleType]=colorValue;jQuery('.'+selector).each(function(){jQuery(this).css(styleObj)})};SGPBSubscription.prototype.changeButtonTitle=function(){jQuery('.js-subs-btn-title').bind('input',function(){var className=jQuery(this).attr('data-subs-rel');var val=jQuery(this).val();jQuery('.'+className).val(val)})};SGPBSubscription.prototype.changeLabels=function(){jQuery('#sgpb-subs-gdpr-text').on('change',function(){var text=jQuery(this).val();text=text.toLowerCase().replaceAll("<script","&lt;script");text=text.toLowerCase().replaceAll("script>","script&gt;");jQuery(this).text('');jQuery(this).text(text);jQuery('.sgpb-gdpr-text-js').html(text)});jQuery('.js-subs-field-placeholder').each(function(){jQuery(this).bind('input',function(){var className=jQuery(this).attr('data-subs-rel');var placeholderText=jQuery(this).val();if(className==='js-subs-gdpr-label'){jQuery('.'+className).next().text(placeholderText)}else{jQuery('.'+className).attr('placeholder',placeholderText)}})})};SGPBSubscription.prototype.binding=function(){var that=this;jQuery('.js-checkbox-field-status').bind('click',function(){var isChecked=jQuery(this).is(':checked');var elementClassName=jQuery(this).attr('data-subs-field-wrapper');var element=jQuery('.'+elementClassName);that.toggleVisible(element,isChecked)});jQuery('.js-checkbox-acordion').each(function(){var isChecked=jQuery(this).is(':checked');var elementClassName=jQuery(this).attr('data-subs-rel');var element=jQuery('.'+elementClassName);that.toggleVisible(element,isChecked)})};SGPBSubscription.prototype.toggleVisible=function(toggleElement,elementStatus){if(elementStatus){toggleElement.css({'display':'block'})}else{toggleElement.css({'display':'none'})}};SGPBSubscription.prototype.changeDimensionMode=function(dimension){var size;size=parseInt(dimension)+'px';if(dimension.indexOf('%')!==-1||dimension.indexOf('px')!==-1){size=dimension}
return size};SGPBSubscription.prototype.allowToOpen=function(popupId){var allowStatus=!0;var cookieName=SGPBSubscription.cookieName+popupId;if(SGPopup.getCookie(cookieName)!=''){allowStatus=!1}
return allowStatus};jQuery(document).ready(function(){new SGPBSubscription()});
/*!
 * jQuery Validation Plugin v1.19.2
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2020 Jörn Zaefferer
 * Released under the MIT license
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function s(){var s,n;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(n=i.settings.submitHandler.call(i,i.currentForm,e),s&&s.remove(),void 0!==n&&n)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,i,s;return t(this[0]).is("form")?e=this.validate().form():(s=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(s=s.concat(i.errorList))}),i.errorList=s),e},rules:function(e,i){var s,n,r,a,o,l,h=this[0],d=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=h&&(!h.form&&d&&(h.form=this.closest("form")[0],h.name=this.attr("name")),null!=h.form)){if(e)switch(n=(s=t.data(h.form,"validator").settings).rules,r=t.validator.staticRules(h),e){case"add":t.extend(r,t.validator.normalizeRule(i)),delete r.messages,n[h.name]=r,i.messages&&(s.messages[h.name]=t.extend(s.messages[h.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(t,e){l[e]=r[e],delete r[e]}),l):(delete n[h.name],r)}return(a=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h)).required&&(o=a.required,delete a.required,a=t.extend({required:o},a)),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}});var e,i=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!i(""+t(e).val())},filled:function(e){var s=t(e).val();return null!==s&&!!i(""+s)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var e,i=this.currentForm,s=this.groups={};function n(e){var s=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");if(!this.form&&s&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name")),i===this.form){var n=t.data(this.form,"validator"),r="on"+e.type.replace(/^validate/,""),a=n.settings;a[r]&&!t(this).is(a.ignore)&&a[r].call(n,this,e)}}t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){s[i]=e})}),e=this.settings.rules,t.each(e,function(i,s){e[i]=t.validator.normalizeRule(s)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",n).on("click.validate","select, option, [type='radio'], [type='checkbox']",n),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,s,n=this.clean(e),r=this.validationTargetFor(n),a=this,o=!0;return void 0===r?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=t(r),(s=this.groups[r.name])&&t.each(this.groups,function(t,e){e===s&&t!==r.name&&(n=a.validationTargetFor(a.clean(a.findByName(t))))&&n.name in a.invalid&&(a.currentElements.push(n),o=a.check(n)&&o)}),i=!1!==this.check(r),o=o&&i,this.invalid[r.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),o},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var s=this.name||t(this).attr("name"),n=void 0!==t(this).attr("contenteditable")&&"false"!==t(this).attr("contenteditable");return!s&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),n&&(this.form=t(this).closest("form")[0],this.name=s),this.form===e.currentForm&&(!(s in i||!e.objectLength(t(this).rules()))&&(i[s]=!0,!0))})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,s,n=t(e),r=e.type,a=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&void 0!==e.validity?e.validity.badInput?"NaN":n.val():(i=a?n.text():n.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(s=i.lastIndexOf("/"))>=0?i.substr(s+1):(s=i.lastIndexOf("\\"))>=0?i.substr(s+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s,n,r,a=t(e).rules(),o=t.map(a,function(t,e){return e}).length,l=!1,h=this.elementValue(e);for(s in"function"==typeof a.normalizer?r=a.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r&&(h=r.call(e,h),delete a.normalizer),a){n={method:s,parameters:a[s]};try{if("dependency-mismatch"===(i=t.validator.methods[s].call(this,h,e,n.parameters))&&1===o){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,n),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+n.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+n.method+"' method."),t}}if(!l)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var s=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof s?s=s.call(this,i.parameters,e):n.test(s)&&(s=t.validator.format(s.replace(n,"{$1}"),i.parameters)),s},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s,n,r,a,o=this.errorsFor(e),l=this.idOrName(e),h=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(i)):(s=o=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(s):this.settings.errorPlacement?this.settings.errorPlacement.call(this,s,t(e)):s.insertAfter(e),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=o.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(h+=" "+r):h=r,t(e).attr("aria-describedby",h),(n=this.groups[e.name])&&(a=this,t.each(a.groups,function(e,i){i===n&&t("[name='"+a.escapeCssMeta(e)+"']",a.currentForm).attr("aria-describedby",o.attr("id"))})))),!i&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),s=t(e).attr("aria-describedby"),n="label[for='"+i+"'], label[for='"+i+"'] *";return s&&(n=n+", #"+this.escapeCssMeta(s).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,s,n={},r=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(""===(s=e.getAttribute(i))&&(s=!0),s=!!s):s=r.attr(i),this.normalizeAttributeRule(n,a,i,s);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var i,s,n={},r=t(e),a=e.getAttribute("type");for(i in t.validator.methods)""===(s=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()))&&(s=!0),this.normalizeAttributeRule(n,a,i,s);return n},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,n){if(!1!==n){if(n.param||n.depends){var r=!0;switch(typeof n.depends){case"string":r=!!t(n.depends,i.form).length;break;case"function":r=n.depends.call(i,i)}r?e[s]=void 0===n.param||n.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[s])}}else delete e[s]}),t.each(e,function(s,n){e[s]=t.isFunction(n)&&"normalizer"!==s?n(i):n}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=t(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(e,i)>0:null!=e&&e.length>0},email:function(t,e){return this.optional(e)||/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:(e=!1,function(t,i){return e||(e=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(i)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,s){var n=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=s},maxlength:function(e,i,s){var n=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n<=s},rangelength:function(e,i,s){var n=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||n>=s[0]&&n<=s[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,s){var n,r=t(i).attr("type"),a="Step attribute on input type "+r+" is not supported.",o=new RegExp("\\b"+r+"\\b"),l=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},h=function(t){return Math.round(t*Math.pow(10,n))},d=!0;if(r&&!o.test(["text","number","range"].join()))throw new Error(a);return n=l(s),(l(e)>n||h(e)%h(s)!=0)&&(d=!1),this.optional(i)||d},equalTo:function(e,i,s){var n=t(s);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===n.val()},remote:function(e,i,s,n){if(this.optional(i))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var r,a,o,l=this.previousValue(i,n);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][n],this.settings.messages[i.name][n]=l.message,s="string"==typeof s&&{url:s}||s,o=t.param(t.extend({data:e},s.data)),l.old===o?l.valid:(l.old=o,r=this,this.startRequest(i),(a={})[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:a,context:r.currentForm,success:function(t){var s,a,o,h=!0===t||"true"===t;r.settings.messages[i.name][n]=l.originalMessage,h?(o=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(i),r.formSubmitted=o,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(s={},a=t||r.defaultMessage(i,{method:n,parameters:e}),s[i.name]=l.message=a,r.invalid[i.name]=!0,r.showErrors(s)),l.valid=h,r.stopRequest(i,h)}},s)),"pending")}}});var s,n={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,i){var s=t.port;"abort"===t.mode&&(n[s]&&n[s].abort(),n[s]=i)}):(s=t.ajax,t.ajax=function(e){var i=("mode"in e?e:t.ajaxSettings).mode,r=("port"in e?e:t.ajaxSettings).port;return"abort"===i?(n[r]&&n[r].abort(),n[r]=s.apply(this,arguments),n[r]):s.apply(this,arguments)}),t});
